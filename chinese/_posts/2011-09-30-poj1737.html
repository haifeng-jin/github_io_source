---
layout: post
title: poj1737
category: chinese
---
<p>题意：给定n，问有n个点的连通图有多少种，每个点是不同的。</p>
<p>分析：求出有n个点的图有多少种，求出不连通的有多少种，相减即可。求有n个点的不连通图时，枚举第n个点所在的连通分支有几个点，有k个点的话，除去第n点，还要选k-1个点，有C(n - 1, k -1)种选法。剩余n-k个点，这n-k个点随意构图，每两点间要么有边，要么没边，两种选择。有2^C(n-k,2)种情况。则用C(n - 1, k -1)乘以2^C(n-k,2)再乘以k个点构成连通图的情况总数，这样规模为n的问题转化为规模为k的子问题。dp处理即可。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('cf5bca1c-4d51-4e9b-80bd-4ae47dc298da')"><img id="code_img_closed_cf5bca1c-4d51-4e9b-80bd-4ae47dc298da" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" /><img style="display: none;" id="code_img_opened_cf5bca1c-4d51-4e9b-80bd-4ae47dc298da" class="code_img_opened" onclick="cnblogs_code_hide('cf5bca1c-4d51-4e9b-80bd-4ae47dc298da',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_cf5bca1c-4d51-4e9b-80bd-4ae47dc298da" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">import</span> java.io.*;<br /><span style="color: #0000ff;">import</span> java.util.*;<br /><span style="color: #0000ff;">import</span> java.math.*;<br /><br /><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> Main {<br />    <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">public</span> BigInteger cal(<span style="color: #0000ff;">int</span> n, <span style="color: #0000ff;">int</span> k) {<br />        BigInteger ret = <span style="color: #0000ff;">new</span> BigInteger("1");<br />        <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = n; i &gt; n - k; i--)<br />            ret = ret.multiply(BigInteger.valueOf(i));<br />        <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = 1; i &lt;= k; i++)<br />            ret = ret.divide(BigInteger.valueOf(i));<br />        <span style="color: #0000ff;">return</span> ret;<br />    }<br /><br />    <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span> main(String[] args) {<br />        BigInteger a[] = <span style="color: #0000ff;">new</span> BigInteger[51];<br />        a[1] = <span style="color: #0000ff;">new</span> BigInteger("1");<br />        <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = 2; i &lt;= 50; i++) {<br />            a[i] = <span style="color: #0000ff;">new</span> BigInteger("0");<br />            <span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> j = 1; j &lt; i; j++) {<br />                a[i] = a[i].add(a[j].multiply(cal(i - 1, j - 1).multiply(<br />                        <span style="color: #0000ff;">new</span> BigInteger("2").pow((i - j) * (i - j - 1) / 2))));<br />            }<br />            a[i] = <span style="color: #0000ff;">new</span> BigInteger("2").pow(i * (i - 1) / 2).subtract(a[i]);<br />        }<br />        Scanner cin = <span style="color: #0000ff;">new</span> Scanner(<span style="color: #0000ff;">new</span> BufferedInputStream(System.in));<br />        <span style="color: #0000ff;">while</span> (cin.hasNext())<br />        {<br />            <span style="color: #0000ff;">int</span> x = cin.nextInt();<br />            <span style="color: #0000ff;">if</span> (x == 0)<br />                <span style="color: #0000ff;">return</span>;<br />            System.out.println(a[x]);<br />        }<br />    }<br />}</pre>
</div>
</div>
<p></p>
<p>&nbsp;</p>
