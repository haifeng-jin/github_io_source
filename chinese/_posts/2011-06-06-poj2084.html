---
layout: post
title: poj2084
category: chinese
---
<p>题意：一圆环上有2n个点，求两两连线且不交叉的方法数。</p>
<p>分析：catalan数</p>
<p>令h(1)＝1,h(0)=1，catalan数满足</p>
<p>递归式： 　　h(n)= h(0)*h(n-1)+h(1)*h(n-2) + ... + h(n-1)h(0) (其中n&gt;=2) 　　</p>
<p>另类递归式： 　　h(n)=((4*n-2)/(n+1))*h(n-1); 　　</p>
<p>该递推关系的解为： 　　h(n)=C(2n,n)/(n+1) (n=1,2,3,...)</p>
<p><span style="font-family: 宋体;">它的适用情况有：</span></p>
<p><span style="font-family: 宋体;">1、取物2n个，物品分a,b两种，任意</span>时刻手中的a物品数&lt;b物品数，的方法数为h(n)。</p>
<p>2、把(n+2)边形分割成若干个三角形组面积组合的方法数为h(n)。</p>
<p>3、一圆环上有2n个点两两连线不交叉的方法数为h(n)。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('99e8d2ab-6441-45d6-8e6a-41db4dbcd8a7')"><img id="code_img_closed_99e8d2ab-6441-45d6-8e6a-41db4dbcd8a7" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_99e8d2ab-6441-45d6-8e6a-41db4dbcd8a7" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('99e8d2ab-6441-45d6-8e6a-41db4dbcd8a7',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_99e8d2ab-6441-45d6-8e6a-41db4dbcd8a7" class="cnblogs_code_hide">
<div><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.math.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><br /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Main {<br /><br />    </span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String args[]) </span><span style="color: #0000ff;">throws</span><span style="color: #000000;"> FileNotFoundException {<br />        </span><span style="color: #008000;">//</span><span style="color: #008000;">Scanner cin = new Scanner(new FileInputStream("t.txt"));</span><span style="color: #008000;"><br /></span><span style="color: #000000;">        Scanner cin </span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BufferedInputStream(System.in));<br />        BigInteger[] h </span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BigInteger[</span><span style="color: #000000;">105</span><span style="color: #000000;">];<br />        h[</span><span style="color: #000000;">0</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BigInteger(</span><span style="color: #000000;">"</span><span style="color: #000000;">1</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br />        h[</span><span style="color: #000000;">1</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BigInteger(</span><span style="color: #000000;">"</span><span style="color: #000000;">1</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #000000;">2</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">100</span><span style="color: #000000;">; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />            h[i] </span><span style="color: #000000;">=</span><span style="color: #000000;"> h[i </span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">].multiply(BigInteger.valueOf(</span><span style="color: #000000;">4</span><span style="color: #000000;">*</span><span style="color: #000000;"> i </span><span style="color: #000000;">-</span><span style="color: #000000;">2</span><span style="color: #000000;">)).divide(<br />                    BigInteger.valueOf(i </span><span style="color: #000000;">+</span><span style="color: #000000;">1</span><span style="color: #000000;">));<br />        </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">true</span><span style="color: #000000;">) {<br />            </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n </span><span style="color: #000000;">=</span><span style="color: #000000;"> cin.nextInt();<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (n </span><span style="color: #000000;">==</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">)<br />                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br />            System.out.println(h[n]);<br />        }<br />    }<br />}</span></div>
</div>
</div>
