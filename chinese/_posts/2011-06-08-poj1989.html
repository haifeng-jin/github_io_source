---
layout: post
title: poj1989
category: chinese
---
<p>题意：给定一个序列，求其最短非子序列的长度。</p>
<p>分析：我们把序列划分为若干个区间，每个区间都包含(1~k)这些数字。我们使划分的区间尽量多，方法就是从左到右一旦满足了包含所有字符，则立即停止该区间，从下一位开始一个新的区间。答案就是划分的区间数＋1。</p>
<p>下面我们简单证明一下：对于一个有x个区间的序列，一定包含了所有长度为x的序列。因为，对于任意一个长度为x的序列，只需要依次在x个区间中取出其对应位的元素即可组成。</p>
<p>对于一个最多有x个区间的序列，一定不能构成所有的长度为x+1的序列。因为只需要取每个区间的最后一位，构成一个长度为x的序列，在最后加上一个刨除前x个区间后的剩余部分所不具有的字符即可。这个长度为x+1的序列一定不是其子序列。因为每个区间的最后一个元素都是在该区间中唯一的（当一个区间已经搜集了k-1个元素之后，一旦遇到最后一个元素就停止了，所以最后一个元素只有一个），所以这个序列前x个元素在长串中的匹配位置是固定的，只能是每个区间的最后一个元素（无法左移）。这样前x个元素耗尽了长串的x个区间，第x+1个元素就无法构成了。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('ca44bcb3-5ebb-4be6-bc7b-122645bd7e04')"><img id="code_img_closed_ca44bcb3-5ebb-4be6-bc7b-122645bd7e04" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_ca44bcb3-5ebb-4be6-bc7b-122645bd7e04" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ca44bcb3-5ebb-4be6-bc7b-122645bd7e04',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_ca44bcb3-5ebb-4be6-bc7b-122645bd7e04" class="cnblogs_code_hide">
<div><span style="color: #000000;">#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">iostream</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdio</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdlib</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstring</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">using</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;<br /><br /></span><span style="color: #0000ff;">#define</span><span style="color: #000000;"> maxn 100005</span><span style="color: #000000;"><br /><br /></span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> vis[maxn];<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()<br />{<br />    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n, m;<br />    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">n, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">m);<br />    memset(vis, </span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(vis));<br />    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> count </span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ans </span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />    </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> n; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />    {<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> a;<br />        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">a);<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #000000;">!</span><span style="color: #000000;">vis[a])<br />        {<br />            count</span><span style="color: #000000;">++</span><span style="color: #000000;">;<br />            vis[a] </span><span style="color: #000000;">=</span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br />        }<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (count </span><span style="color: #000000;">==</span><span style="color: #000000;"> m)<br />        {<br />            ans</span><span style="color: #000000;">++</span><span style="color: #000000;">;<br />            count </span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />            memset(vis, </span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(vis));<br />        }<br />    }<br />    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, ans </span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">);<br />    </span><span style="color: #0000ff;">return</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}</span></div>

</div>

</div>
