---
layout: post
title: hoj1568
category: chinese
---
<p>Fibonacci数列的通项公式中由于（sqrt(5)-1）^n太小了，所以可以忽略，但是n必须大于16。这道题就是应用通项公式对10取对数的方法来做的，去除对数的整数部分就相当于把结果除以许多个10。</p>

<div onclick="cnblogs_code_show('42a9c723-0dc5-4b97-bb1e-4380eff068c3')" class="cnblogs_code"><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" id="code_img_closed_42a9c723-0dc5-4b97-bb1e-4380eff068c3" class="code_img_closed" /><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" onclick="cnblogs_code_hide('42a9c723-0dc5-4b97-bb1e-4380eff068c3',event)" style="display: none;" id="code_img_opened_42a9c723-0dc5-4b97-bb1e-4380eff068c3" class="code_img_opened" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_42a9c723-0dc5-4b97-bb1e-4380eff068c3" class="cnblogs_code_hide">
<pre><div><span style="color: #000000;">#include</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">stdio.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">math.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">#define</span><span style="color: #000000;"> a (sqrt(5.0)+1.0)/2</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()<br />{<br /> </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n,i,j,t,f[</span><span style="color: #800080;">21</span><span style="color: #000000;">]</span><span style="color: #000000;">=</span><span style="color: #000000;">{</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #800080;">1</span><span style="color: #000000;">};<br /> </span><span style="color: #0000ff;">double</span><span style="color: #000000;"> ans;<br /> </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(i</span><span style="color: #000000;">=</span><span style="color: #800080;">2</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #800080;">21</span><span style="color: #000000;">;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /> f[i]</span><span style="color: #000000;">=</span><span style="color: #000000;">f[i</span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">]</span><span style="color: #000000;">+</span><span style="color: #000000;">f[i</span><span style="color: #000000;">-</span><span style="color: #800080;">2</span><span style="color: #000000;">];<br /> </span><span style="color: #0000ff;">while</span><span style="color: #000000;">(scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">n)</span><span style="color: #000000;">!=</span><span style="color: #000000;">EOF)<br /> {<br />  </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(n</span><span style="color: #000000;">&lt;</span><span style="color: #800080;">21</span><span style="color: #000000;">)printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,f[n]);<br />  </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> <br />  {<br />   ans</span><span style="color: #000000;">=-</span><span style="color: #800080;">0.5</span><span style="color: #000000;">*</span><span style="color: #000000;">(log10(</span><span style="color: #800080;">5.0</span><span style="color: #000000;">))</span><span style="color: #000000;">+</span><span style="color: #000000;">n</span><span style="color: #000000;">*</span><span style="color: #000000;">log10(a);<br />   ans</span><span style="color: #000000;">-=</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">)ans;<br />   ans</span><span style="color: #000000;">=</span><span style="color: #000000;">pow(</span><span style="color: #800080;">10.0</span><span style="color: #000000;">,ans);<br />   </span><span style="color: #0000ff;">while</span><span style="color: #000000;">(ans</span><span style="color: #000000;">&lt;</span><span style="color: #800080;">1000</span><span style="color: #000000;">)ans</span><span style="color: #000000;">*=</span><span style="color: #800080;">10</span><span style="color: #000000;">;<br />   printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">)ans); <br />  }<br /> }<br /> </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}</span></div></pre>
</div>
</div>
