---
layout: post
title: poj1317
category: chinese
---
<p>简单模拟</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('01ec6d99-c385-4ee0-9eaa-b06b0ec40ea4')"><img id="code_img_closed_01ec6d99-c385-4ee0-9eaa-b06b0ec40ea4" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_01ec6d99-c385-4ee0-9eaa-b06b0ec40ea4" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('01ec6d99-c385-4ee0-9eaa-b06b0ec40ea4',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_01ec6d99-c385-4ee0-9eaa-b06b0ec40ea4" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">#define</span> maxl 75

<span style="color: #0000ff;">int</span><span style="color: #000000;"> key;
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> cipher_text[maxl];
</span><span style="color: #0000ff;">char</span><span style="color: #000000;"> plain_text[maxl];

</span><span style="color: #0000ff;">bool</span> is_letter(<span style="color: #0000ff;">char</span><span style="color: #000000;"> ch)
{
    </span><span style="color: #0000ff;">return</span> ch &lt;= <span style="color: #800000;">'</span><span style="color: #800000;">z</span><span style="color: #800000;">'</span> &amp;&amp; ch &gt;= <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">int</span> get_code(<span style="color: #0000ff;">char</span><span style="color: #000000;"> ch)
{
    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (is_letter(ch))
        </span><span style="color: #0000ff;">return</span> ch - <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span> + <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (ch == <span style="color: #800000;">'</span><span style="color: #800000;">_</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (ch == <span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">27</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">char</span> get_text(<span style="color: #0000ff;">int</span><span style="color: #000000;"> a)
{
    </span><span style="color: #0000ff;">if</span> (a &lt;= <span style="color: #800080;">26</span> &amp;&amp; a &gt;= <span style="color: #800080;">1</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> a + <span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span> - <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (a == <span style="color: #800080;">0</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800000;">'</span><span style="color: #800000;">_</span><span style="color: #800000;">'</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (a == <span style="color: #800080;">27</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">return</span> -<span style="color: #800080;">1</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">int</span> unify(<span style="color: #0000ff;">int</span> a, <span style="color: #0000ff;">int</span><span style="color: #000000;"> w)
{
    </span><span style="color: #0000ff;">return</span> (a % w + w) %<span style="color: #000000;"> w;
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span>
    <span style="color: #0000ff;">while</span> (scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">key), key)
    {
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, cipher_text);
        </span><span style="color: #0000ff;">int</span> len =<span style="color: #000000;"> strlen(cipher_text);
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; len; i++<span style="color: #000000;">)
            plain_text[unify(key </span>* i, len)] = get_text(unify(get_code(cipher_text[i]) + i, <span style="color: #800080;">28</span><span style="color: #000000;">));
        plain_text[len] </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
        puts(plain_text);
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
<p>&nbsp;</p>
