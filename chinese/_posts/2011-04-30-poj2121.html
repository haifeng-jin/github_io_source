---
layout: post
title: poj2121
category: chinese
---
<p>字符串处理，还是用string类比较容易，先将字符串用million和thousand切分成三段，然后用同样的方法处理这三段即可。</p>
<p>注意输入数据结尾有多余空行</p>

<div onclick="cnblogs_code_show('cde508f9-fe02-47bb-a2d6-9c99268f145a')" class="cnblogs_code"><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" class="code_img_closed" id="code_img_closed_cde508f9-fe02-47bb-a2d6-9c99268f145a" /><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" onclick="cnblogs_code_hide('cde508f9-fe02-47bb-a2d6-9c99268f145a',event)" class="code_img_opened" id="code_img_opened_cde508f9-fe02-47bb-a2d6-9c99268f145a" style="display: none;" /><span class="cnblogs_code_collapse">View Code </span>
<div class="cnblogs_code_hide" id="cnblogs_code_open_cde508f9-fe02-47bb-a2d6-9c99268f145a">
<pre><div><span style="color: #000000;">#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">iostream</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdlib</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstring</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdio</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">using</span><span style="color: #000000;"> </span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;<br /><br /></span><span style="color: #0000ff;">string</span><span style="color: #000000;"> name[] </span><span style="color: #000000;">=</span><span style="color: #000000;"><br />{ </span><span style="color: #800000;">"</span><span style="color: #800000;">one</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">two</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">three</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">four</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">five</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">six</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">seven</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">eight</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">nine</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">ten</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">eleven</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">twelve</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">thirteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">fourteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">fifteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">sixteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">seventeen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">eighteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">nineteen</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">twenty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">thirty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">forty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">fifty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">sixty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">seventy</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">eighty</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #800000;">"</span><span style="color: #800000;">ninety</span><span style="color: #800000;">"</span><span style="color: #000000;"> };<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> id[] </span><span style="color: #000000;">=</span><span style="color: #000000;"><br />{ </span><span style="color: #800080;">1</span><span style="color: #000000;">, </span><span style="color: #800080;">2</span><span style="color: #000000;">, </span><span style="color: #800080;">3</span><span style="color: #000000;">, </span><span style="color: #800080;">4</span><span style="color: #000000;">, </span><span style="color: #800080;">5</span><span style="color: #000000;">, </span><span style="color: #800080;">6</span><span style="color: #000000;">, </span><span style="color: #800080;">7</span><span style="color: #000000;">, </span><span style="color: #800080;">8</span><span style="color: #000000;">, </span><span style="color: #800080;">9</span><span style="color: #000000;">, </span><span style="color: #800080;">10</span><span style="color: #000000;">, </span><span style="color: #800080;">11</span><span style="color: #000000;">, </span><span style="color: #800080;">12</span><span style="color: #000000;">, </span><span style="color: #800080;">13</span><span style="color: #000000;">, </span><span style="color: #800080;">14</span><span style="color: #000000;">, </span><span style="color: #800080;">15</span><span style="color: #000000;">, </span><span style="color: #800080;">16</span><span style="color: #000000;">, </span><span style="color: #800080;">17</span><span style="color: #000000;">, </span><span style="color: #800080;">18</span><span style="color: #000000;">, </span><span style="color: #800080;">19</span><span style="color: #000000;">, </span><span style="color: #800080;">20</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">40</span><span style="color: #000000;">, </span><span style="color: #800080;">50</span><span style="color: #000000;">, </span><span style="color: #800080;">60</span><span style="color: #000000;">, </span><span style="color: #800080;">70</span><span style="color: #000000;">, </span><span style="color: #800080;">80</span><span style="color: #000000;">, </span><span style="color: #800080;">90</span><span style="color: #000000;"> };<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> getid(</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> st)<br />{<br />    </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> </span><span style="color: #800080;">27</span><span style="color: #000000;">; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st </span><span style="color: #000000;">==</span><span style="color: #000000;"> name[i])<br />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> id[i];<br />    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> toint(</span><span style="color: #0000ff;">string</span><span style="color: #000000;"> st)<br />{<br />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #800000;">"</span><span style="color: #800000;">zero</span><span style="color: #800000;">"</span><span style="color: #000000;">)<br />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ret </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> pos;<br />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ((pos </span><span style="color: #000000;">=</span><span style="color: #000000;"> st.find(</span><span style="color: #800000;">"</span><span style="color: #800000;">hundred</span><span style="color: #800000;">"</span><span style="color: #000000;">)) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">string</span><span style="color: #000000;">::npos)<br />    {<br />        ret </span><span style="color: #000000;">+=</span><span style="color: #000000;"> getid(st.substr(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">-</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">)) </span><span style="color: #000000;">*</span><span style="color: #000000;"> </span><span style="color: #800080;">100</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">8</span><span style="color: #000000;">)<br />            st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">8</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />            st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">7</span><span style="color: #000000;">);<br />    }<br />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ((pos </span><span style="color: #000000;">=</span><span style="color: #000000;"> st.find(</span><span style="color: #800000;">"</span><span style="color: #800000;"> </span><span style="color: #800000;">"</span><span style="color: #000000;">)) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">string</span><span style="color: #000000;">::npos)<br />    {<br />        ret </span><span style="color: #000000;">+=</span><span style="color: #000000;"> getid(st.substr(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos));<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">)<br />            st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />            st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos);<br />    }<br />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">)<br />        ret </span><span style="color: #000000;">+=</span><span style="color: #000000;"> getid(st);<br />    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> ret;<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()<br />{<br />    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("D:\\t.txt", "r", stdin);</span><span style="color: #008000;"><br /></span><span style="color: #000000;">    </span><span style="color: #0000ff;">string</span><span style="color: #000000;"> st;<br />    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> (getline(cin, st) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> st </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #800000;">""</span><span style="color: #000000;">)<br />    {<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ans </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> pos;<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> ne </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.substr(</span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #800080;">8</span><span style="color: #000000;">) </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #800000;">"</span><span style="color: #800000;">negative</span><span style="color: #800000;">"</span><span style="color: #000000;">)<br />        {<br />            ne </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />            st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #800080;">9</span><span style="color: #000000;">);<br />        }<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ((pos </span><span style="color: #000000;">=</span><span style="color: #000000;"> st.find(</span><span style="color: #800000;">"</span><span style="color: #800000;">million</span><span style="color: #800000;">"</span><span style="color: #000000;">)) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">string</span><span style="color: #000000;">::npos)<br />        {<br />            ans </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #800080;">1000000</span><span style="color: #000000;"> </span><span style="color: #000000;">*</span><span style="color: #000000;"> toint(st.substr(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">-</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">));<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">8</span><span style="color: #000000;">)<br />                st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">8</span><span style="color: #000000;">);<br />            </span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />                st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">7</span><span style="color: #000000;">);<br />        }<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ((pos </span><span style="color: #000000;">=</span><span style="color: #000000;"> st.find(</span><span style="color: #800000;">"</span><span style="color: #800000;">thousand</span><span style="color: #800000;">"</span><span style="color: #000000;">)) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">string</span><span style="color: #000000;">::npos)<br />        {<br />            ans </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #800080;">1000</span><span style="color: #000000;"> </span><span style="color: #000000;">*</span><span style="color: #000000;"> toint(st.substr(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">-</span><span style="color: #000000;"> </span><span style="color: #800080;">1</span><span style="color: #000000;">));<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">9</span><span style="color: #000000;">)<br />                st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">9</span><span style="color: #000000;">);<br />            </span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />                st.erase(</span><span style="color: #800080;">0</span><span style="color: #000000;">, pos </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #800080;">8</span><span style="color: #000000;">);<br />        }<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (st.length() </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">)<br />            ans </span><span style="color: #000000;">+=</span><span style="color: #000000;"> toint(st);<br />        ans </span><span style="color: #000000;">*=</span><span style="color: #000000;"> ne;<br />        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, ans);<br />    }<br />    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}</span></div></pre>
</div>
</div>
