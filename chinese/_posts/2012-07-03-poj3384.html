---
layout: post
title: poj3384
category: chinese
---
<p>题意：求凸包面积/50，并取整。</p>
<p>分析：用模板。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('f1b2647a-f861-4455-9510-0d31f96227c0')"><img id="code_img_closed_f1b2647a-f861-4455-9510-0d31f96227c0" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_f1b2647a-f861-4455-9510-0d31f96227c0" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('f1b2647a-f861-4455-9510-0d31f96227c0',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_f1b2647a-f861-4455-9510-0d31f96227c0" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;algorithm&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">#define</span> maxn 10005

<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Point
{
    </span><span style="color: #0000ff;">double</span><span style="color: #000000;"> x, y;
} point[maxn], cvx[maxn];

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n, m;

</span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> mult(Point sp, Point ep, Point op)
{
    </span><span style="color: #0000ff;">return</span> (sp.x - ep.x) * (ep.y - op.y) &gt;= (ep.x - op.x) * (sp.y -<span style="color: #000000;"> ep.y);
}

</span><span style="color: #0000ff;">bool</span> <span style="color: #0000ff;">operator</span> &lt;(<span style="color: #0000ff;">const</span> Point &amp;l, <span style="color: #0000ff;">const</span> Point &amp;<span style="color: #000000;">r)
{
    </span><span style="color: #0000ff;">return</span> l.y &lt; r.y || (l.y == r.y &amp;&amp; l.x &lt;<span style="color: #000000;"> r.x);
}

</span><span style="color: #0000ff;">int</span> graham(Point pnt[], <span style="color: #0000ff;">int</span><span style="color: #000000;"> n, Point res[])
{
    </span><span style="color: #0000ff;">int</span> i, len, top = <span style="color: #800080;">1</span><span style="color: #000000;">;
    sort(pnt, pnt </span>+<span style="color: #000000;"> n);
    </span><span style="color: #0000ff;">if</span> (n == <span style="color: #800080;">0</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    res[</span><span style="color: #800080;">0</span>] = pnt[<span style="color: #800080;">0</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">if</span> (n == <span style="color: #800080;">1</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">1</span><span style="color: #000000;">;
    res[</span><span style="color: #800080;">1</span>] = pnt[<span style="color: #800080;">1</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">if</span> (n == <span style="color: #800080;">2</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">2</span><span style="color: #000000;">;
    res[</span><span style="color: #800080;">2</span>] = pnt[<span style="color: #800080;">2</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">for</span> (i = <span style="color: #800080;">2</span>; i &lt; n; i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">while</span> (top &amp;&amp; mult(pnt[i], res[top], res[top - <span style="color: #800080;">1</span><span style="color: #000000;">]))
            top</span>--<span style="color: #000000;">;
        res[</span>++top] =<span style="color: #000000;"> pnt[i];
    }
    len </span>=<span style="color: #000000;"> top;
    res[</span>++top] = pnt[n - <span style="color: #800080;">2</span><span style="color: #000000;">];
    </span><span style="color: #0000ff;">for</span> (i = n - <span style="color: #800080;">3</span>; i &gt;= <span style="color: #800080;">0</span>; i--<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">while</span> (top != len &amp;&amp; mult(pnt[i], res[top], res[top - <span style="color: #800080;">1</span><span style="color: #000000;">]))
            top</span>--<span style="color: #000000;">;
        res[</span>++top] =<span style="color: #000000;"> pnt[i];
    }
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> top;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> 返回凸包中点的个数</span>
<span style="color: #000000;">}

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> input()
{
    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">n);
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; n; i++<span style="color: #000000;">)
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lf %lf</span><span style="color: #800000;">"</span>, &amp;point[i].x, &amp;<span style="color: #000000;">point[i].y);
}

</span><span style="color: #0000ff;">double</span> areaofp(<span style="color: #0000ff;">int</span><span style="color: #000000;"> vcount, Point plg[])
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i;
    </span><span style="color: #0000ff;">double</span><span style="color: #000000;"> s;
    </span><span style="color: #0000ff;">if</span> (vcount &lt; <span style="color: #800080;">3</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    s </span>= plg[<span style="color: #800080;">0</span>].y * (plg[vcount - <span style="color: #800080;">1</span>].x - plg[<span style="color: #800080;">1</span><span style="color: #000000;">].x);
    </span><span style="color: #0000ff;">for</span> (i = <span style="color: #800080;">1</span>; i &lt; vcount; i++<span style="color: #000000;">)
        s </span>+= plg[i].y * (plg[(i - <span style="color: #800080;">1</span>)].x - plg[(i + <span style="color: #800080;">1</span>) %<span style="color: #000000;"> vcount].x);
    </span><span style="color: #0000ff;">return</span> s / <span style="color: #800080;">2</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span>
<span style="color: #000000;">    input();
    m </span>=<span style="color: #000000;"> graham(point, n, cvx);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span>, (<span style="color: #0000ff;">int</span>)(areaofp(m, cvx) / <span style="color: #800080;">50</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
