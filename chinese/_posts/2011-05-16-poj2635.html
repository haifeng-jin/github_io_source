---
layout: post
title: poj2635
category: chinese
---
<p>高精度，java快要忘没了。java使用文件输入要抛出异常。</p>
<p>
<div class="cnblogs_code" onclick="cnblogs_code_show('dbc9d088-362d-477d-9ebc-7e04b8182044')"><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" class="code_img_closed" id="code_img_closed_dbc9d088-362d-477d-9ebc-7e04b8182044" /><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" class="code_img_opened" id="code_img_opened_dbc9d088-362d-477d-9ebc-7e04b8182044" onclick="cnblogs_code_hide('dbc9d088-362d-477d-9ebc-7e04b8182044',event)" style="display: none;" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_dbc9d088-362d-477d-9ebc-7e04b8182044" class="cnblogs_code_hide">
<pre><div><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.math.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><br /></span><span style="color: #0000ff;">public</span><span style="color: #000000;"> </span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Main {<br />    </span><span style="color: #0000ff;">static</span><span style="color: #000000;"> </span><span style="color: #0000ff;">int</span><span style="color: #000000;">[] prm </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> </span><span style="color: #0000ff;">int</span><span style="color: #000000;">[</span><span style="color: #000000;">1000000</span><span style="color: #000000;">];<br />    </span><span style="color: #0000ff;">static</span><span style="color: #000000;"> </span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">[] is </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> </span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">[</span><span style="color: #000000;">1000000</span><span style="color: #000000;">];<br /><br />    </span><span style="color: #0000ff;">static</span><span style="color: #000000;"> </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> getprm(</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n) {<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i, j, k </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> s, e </span><span style="color: #000000;">=</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;">) (Math.sqrt(</span><span style="color: #000000;">0.0</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> n) </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">1</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> </span><span style="color: #000000;">1000000</span><span style="color: #000000;">; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />            is[i] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br />        prm[k</span><span style="color: #000000;">++</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">2</span><span style="color: #000000;">;<br />        is[</span><span style="color: #000000;">0</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"> is[</span><span style="color: #000000;">1</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">4</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> n; i </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">2</span><span style="color: #000000;">)<br />            is[i] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">3</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> e; i </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">2</span><span style="color: #000000;">)<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (is[i]) {<br />                prm[k</span><span style="color: #000000;">++</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"> i;<br />                </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (s </span><span style="color: #000000;">=</span><span style="color: #000000;"> i </span><span style="color: #000000;">*</span><span style="color: #000000;"> </span><span style="color: #000000;">2</span><span style="color: #000000;">, j </span><span style="color: #000000;">=</span><span style="color: #000000;"> i </span><span style="color: #000000;">*</span><span style="color: #000000;"> i; j </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> n; j </span><span style="color: #000000;">+=</span><span style="color: #000000;"> s)<br />                    is[j] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />                </span><span style="color: #008000;">//</span><span style="color: #008000;"> 因为j是奇数,所以+奇数i后是偶数,不必处理!</span><span style="color: #008000;"><br /></span><span style="color: #000000;">            }<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> n; i </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">2</span><span style="color: #000000;">)<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (is[i])<br />                prm[k</span><span style="color: #000000;">++</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"> i;<br />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> k;<br />        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 返回素数的个数</span><span style="color: #008000;"><br /></span><span style="color: #000000;">    }<br /><br />    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> </span><span style="color: #0000ff;">static</span><span style="color: #000000;"> </span><span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String args[]) </span><span style="color: #0000ff;">throws</span><span style="color: #000000;"> FileNotFoundException {<br />        Scanner cin </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(</span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BufferedInputStream(System.in));<br />        </span><span style="color: #008000;">//</span><span style="color: #008000;">Scanner cin =new Scanner (new FileInputStream("t.txt"));</span><span style="color: #008000;"><br /></span><span style="color: #000000;">        String st;<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> count </span><span style="color: #000000;">=</span><span style="color: #000000;"> getprm(</span><span style="color: #000000;">1000000</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">boolean</span><span style="color: #000000;"> found </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />        BigInteger zero </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BigInteger(</span><span style="color: #000000;">"</span><span style="color: #000000;">0</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> (cin.hasNext()) {<br />            st </span><span style="color: #000000;">=</span><span style="color: #000000;"> cin.next();<br />            found </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />            BigInteger a </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> BigInteger(st);<br />            </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> b </span><span style="color: #000000;">=</span><span style="color: #000000;"> cin.nextInt();<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (a.equals(zero) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> b </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">)<br />                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br />            </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> count </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> prm[i] </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> b; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (a.mod(BigInteger.valueOf(prm[i])).equals(zero)) {<br />                    System.out.println(</span><span style="color: #000000;">"</span><span style="color: #000000;">BAD </span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> prm[i]);<br />                    found </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br />                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br />                }<br />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #000000;">!</span><span style="color: #000000;">found)<br />                System.out.println(</span><span style="color: #000000;">"</span><span style="color: #000000;">GOOD</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br />        }<br />    }<br />}</span></div></pre>
</div>
</div>
</p>
