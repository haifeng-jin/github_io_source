---
layout: post
title: poj2210
category: chinese
---
<p>题意：把时间转换为公制，给普通的出年月日时分秒，然后从2000/1/1开始是公制的时间起始点，每天有10小时，每小时有100分，每分有100秒计算，问给出的普通的时间点，在公制中对应的时间点的公制表示是多少。</p>
<p>分析：难点在于给出年月日，统计过了多少天。</p>
<p>本题以2000年为起点恰为闰年。我们可以先将2000年刨除，从2001年开始，2001年是一个崭新的400年的开头，所以就恰好符合除法规律，例如2008年是2001年开始的第8年，8／4＝2，2001～2008出现过2个闰年，2009年，9／4＝2，出现过两个闰年。所以从2001年起（包括2001年）到n年（包括n年），所包含的闰年数可以直接通过除法求得，设x= n - 2001 + 1;则闰年数＝x/4-x/100+x/400;对于本题中的year来说，n= year-1;</p>
<p>另外本题在计算天数的时候应该看今天以前有多少天（不包括今天），这些天能构成几个月份，再把今天加到日号上。如果在计算天数的时候直接将今天算在内的话，就有可能造成构成整个月份的时候出错。当加上今天恰好构成整个月份的话，今天本来应该是上个月的最后一天，这样就变成了本月的第0天。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('290bc84c-694b-4c49-9cdd-f34bbfbac16e')"><img id="code_img_closed_290bc84c-694b-4c49-9cdd-f34bbfbac16e" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_290bc84c-694b-4c49-9cdd-f34bbfbac16e" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('290bc84c-694b-4c49-9cdd-f34bbfbac16e',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_290bc84c-694b-4c49-9cdd-f34bbfbac16e" class="cnblogs_code_hide">
<pre><span style="color: #000000;">#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">iostream</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdio</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdlib</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstring</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">using</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> monthday[</span><span style="color: #800080;">2</span><span style="color: #000000;">][</span><span style="color: #800080;">13</span><span style="color: #000000;">] </span><span style="color: #000000;">=</span><span style="color: #000000;"><br />{<br />{ </span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">28</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;"> },<br />{ </span><span style="color: #800080;">0</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">29</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;">, </span><span style="color: #800080;">30</span><span style="color: #000000;">, </span><span style="color: #800080;">31</span><span style="color: #000000;"> } };<br /><br /></span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> isleapyear(</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> y)<br />{<br />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (y </span><span style="color: #000000;">%</span><span style="color: #800080;">100</span><span style="color: #000000;">==</span><span style="color: #800080;">0</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> y </span><span style="color: #000000;">%</span><span style="color: #800080;">400</span><span style="color: #000000;">!=</span><span style="color: #800080;">0</span><span style="color: #000000;">)<br />        </span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> y </span><span style="color: #000000;">%</span><span style="color: #800080;">4</span><span style="color: #000000;">==</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()<br />{<br />    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> t;<br />    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">t);<br />    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> (t</span><span style="color: #000000;">--</span><span style="color: #000000;">)<br />    {<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> h, min, s, d, mon, y;<br />        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d:%d:%d %d.%d.%d</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">h, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">min, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">s, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">d, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">mon, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">y);<br />        </span><span style="color: #0000ff;">long</span><span style="color: #0000ff;">long</span><span style="color: #000000;"> totalsec </span><span style="color: #000000;">=</span><span style="color: #000000;"> h </span><span style="color: #000000;">*</span><span style="color: #800080;">3600</span><span style="color: #000000;">+</span><span style="color: #000000;"> min </span><span style="color: #000000;">*</span><span style="color: #800080;">60</span><span style="color: #000000;">+</span><span style="color: #000000;"> s;<br />        totalsec </span><span style="color: #000000;">=</span><span style="color: #000000;"> totalsec </span><span style="color: #000000;">*</span><span style="color: #800080;">100000</span><span style="color: #000000;">/</span><span style="color: #000000;"> (</span><span style="color: #800080;">3600</span><span style="color: #000000;">*</span><span style="color: #800080;">24</span><span style="color: #000000;">);<br />        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld:%lld:%lld</span><span style="color: #800000;">"</span><span style="color: #000000;">, totalsec </span><span style="color: #000000;">/</span><span style="color: #800080;">10000</span><span style="color: #000000;">, totalsec </span><span style="color: #000000;">%</span><span style="color: #800080;">10000</span><span style="color: #000000;">/</span><span style="color: #800080;">100</span><span style="color: #000000;">,<br />                totalsec </span><span style="color: #000000;">%</span><span style="color: #800080;">100</span><span style="color: #000000;">);<br />        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> totalday </span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (y </span><span style="color: #000000;">!=</span><span style="color: #800080;">2000</span><span style="color: #000000;">)<br />            totalday </span><span style="color: #000000;">=</span><span style="color: #800080;">366</span><span style="color: #000000;">+</span><span style="color: #800080;">365</span><span style="color: #000000;">*</span><span style="color: #000000;"> (y </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">-</span><span style="color: #800080;">2000</span><span style="color: #000000;">) </span><span style="color: #000000;">+</span><span style="color: #000000;"> (y </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">-</span><span style="color: #800080;">2000</span><span style="color: #000000;">) </span><span style="color: #000000;">/</span><span style="color: #800080;">4</span><span style="color: #000000;">-</span><span style="color: #000000;"> (y </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;"><br />                </span><span style="color: #000000;">-</span><span style="color: #800080;">2000</span><span style="color: #000000;">) </span><span style="color: #000000;">/</span><span style="color: #800080;">100</span><span style="color: #000000;">+</span><span style="color: #000000;"> (y </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">-</span><span style="color: #800080;">2000</span><span style="color: #000000;">) </span><span style="color: #000000;">/</span><span style="color: #800080;">400</span><span style="color: #000000;">;<br />        </span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> leap </span><span style="color: #000000;">=</span><span style="color: #000000;"> isleapyear(y);<br />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> i </span><span style="color: #000000;">=</span><span style="color: #800080;">1</span><span style="color: #000000;">; i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> mon; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />            totalday </span><span style="color: #000000;">+=</span><span style="color: #000000;"> monthday[leap][i];<br />        totalday </span><span style="color: #000000;">+=</span><span style="color: #000000;"> d </span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;"> %d.%d.%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, totalday </span><span style="color: #000000;">%</span><span style="color: #800080;">100</span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">, totalday </span><span style="color: #000000;">%</span><span style="color: #800080;">1000</span><span style="color: #000000;">/</span><span style="color: #800080;">100</span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">,<br />                totalday </span><span style="color: #000000;">/</span><span style="color: #800080;">1000</span><span style="color: #000000;">);<br />    }<br />    </span><span style="color: #0000ff;">return</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}</span></pre>
</div>
</div>
