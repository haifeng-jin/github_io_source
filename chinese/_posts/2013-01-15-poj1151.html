---
layout: post
title: poj1151
category: chinese
---
<p>本来是离散化的题，当初用了一种比较与众不同的做法</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('9a4763fe-bcfe-4e67-aafd-5e7821358bdf')"><img id="code_img_closed_9a4763fe-bcfe-4e67-aafd-5e7821358bdf" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_9a4763fe-bcfe-4e67-aafd-5e7821358bdf" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('9a4763fe-bcfe-4e67-aafd-5e7821358bdf',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_9a4763fe-bcfe-4e67-aafd-5e7821358bdf" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;iomanip&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">const</span>    <span style="color: #0000ff;">int</span>        maxn=<span style="color: #800080;">500</span><span style="color: #000000;">;

</span><span style="color: #0000ff;">struct</span><span style="color: #000000;">    cube
{
    </span><span style="color: #0000ff;">double</span><span style="color: #000000;">    l,r,u,d;
};

</span><span style="color: #0000ff;">void</span><span style="color: #000000;">    init();
</span><span style="color: #0000ff;">void</span><span style="color: #000000;">    work();
</span><span style="color: #0000ff;">void</span><span style="color: #000000;">    print();
</span><span style="color: #0000ff;">void</span>    cut(<span style="color: #0000ff;">int</span><span style="color: #000000;"> j);

</span><span style="color: #0000ff;">int</span>        n,no=<span style="color: #800080;">0</span><span style="color: #000000;">,tot;
</span><span style="color: #0000ff;">double</span><span style="color: #000000;">    ans;
cube    c[maxn],ls;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">while</span> (<span style="color: #0000ff;">true</span><span style="color: #000000;">)
    {
        init();
        work();
        print();
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> init()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">        i,j;
    
    ans</span>=<span style="color: #800080;">0</span><span style="color: #000000;">;
    tot</span>=<span style="color: #800080;">0</span><span style="color: #000000;">;
    cin</span>&gt;&gt;<span style="color: #000000;">n;
    </span><span style="color: #0000ff;">if</span> (n==<span style="color: #800080;">0</span><span style="color: #000000;">)
        exit(</span><span style="color: #800080;">0</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">for</span> (i=<span style="color: #800080;">1</span>;i&lt;=n;i++<span style="color: #000000;">)
    {
        cin</span>&gt;&gt;ls.l&gt;&gt;ls.d&gt;&gt;ls.r&gt;&gt;<span style="color: #000000;">ls.u;
        </span><span style="color: #0000ff;">for</span> (j=<span style="color: #800080;">1</span>;j&lt;=tot;j++<span style="color: #000000;">)
            cut(j);
        tot</span>++<span style="color: #000000;">;
        c[tot]</span>=<span style="color: #000000;">ls;
    }
}

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> work()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">        i;

    </span><span style="color: #0000ff;">for</span> (i=<span style="color: #800080;">1</span>;i&lt;=tot;i++<span style="color: #000000;">)
        ans</span>+=(c[i].u-c[i].d)*(c[i].r-<span style="color: #000000;">c[i].l);
}

</span><span style="color: #0000ff;">void</span> cut(<span style="color: #0000ff;">int</span><span style="color: #000000;"> j)
{
    </span><span style="color: #0000ff;">if</span> (c[j].d&gt;=ls.u||c[j].u&lt;=ls.d||c[j].l&gt;=ls.r||c[j].r&lt;=ls.l||j&gt;<span style="color: #000000;">tot)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (c[j].u&gt;<span style="color: #000000;">ls.u)
    {
        tot</span>++<span style="color: #000000;">;
        c[tot].u</span>=<span style="color: #000000;">c[j].u;
        c[tot].l</span>=<span style="color: #000000;">c[j].l;
        c[tot].r</span>=<span style="color: #000000;">c[j].r;
        c[tot].d</span>=<span style="color: #000000;">ls.u;
        c[j].u</span>=<span style="color: #000000;">ls.u;
    }
    </span><span style="color: #0000ff;">if</span> (c[j].d&lt;<span style="color: #000000;">ls.d)
    {
        tot</span>++<span style="color: #000000;">;
        c[tot].d</span>=<span style="color: #000000;">c[j].d;
        c[tot].l</span>=<span style="color: #000000;">c[j].l;
        c[tot].r</span>=<span style="color: #000000;">c[j].r;
        c[tot].u</span>=<span style="color: #000000;">ls.d;
        c[j].d</span>=<span style="color: #000000;">ls.d;
    }
    </span><span style="color: #0000ff;">if</span> (c[j].r&gt;<span style="color: #000000;">ls.r)
    {
        tot</span>++<span style="color: #000000;">;
        c[tot].r</span>=<span style="color: #000000;">c[j].r;
        c[tot].u</span>=<span style="color: #000000;">c[j].u;
        c[tot].d</span>=<span style="color: #000000;">c[j].d;
        c[tot].l</span>=<span style="color: #000000;">ls.r;
        c[j].r</span>=<span style="color: #000000;">ls.r;
    }
    </span><span style="color: #0000ff;">if</span> (c[j].l&lt;<span style="color: #000000;">ls.l)
    {
        tot</span>++<span style="color: #000000;">;
        c[tot].l</span>=<span style="color: #000000;">c[j].l;
        c[tot].u</span>=<span style="color: #000000;">c[j].u;
        c[tot].d</span>=<span style="color: #000000;">c[j].d;
        c[tot].r</span>=<span style="color: #000000;">ls.l;
        c[j].l</span>=<span style="color: #000000;">ls.l;
    }
    c[j]</span>=<span style="color: #000000;">c[tot];
    tot</span>--<span style="color: #000000;">;
    cut(j);
}

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> print()
{

    no</span>++<span style="color: #000000;">;
    cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">Test case #</span><span style="color: #800000;">"</span>&lt;&lt;no&lt;&lt;<span style="color: #000000;">endl;
    cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">Total explored area: </span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #0000ff;">fixed</span>&lt;&lt;setprecision(<span style="color: #800080;">2</span>)&lt;&lt;ans&lt;&lt;<span style="color: #000000;">endl;
    cout</span>&lt;&lt;<span style="color: #000000;">endl;
}</span></pre>
</div>
</div>
<p>&nbsp;</p>
