---
layout: post
title: poj1032
category: chinese
---
<p>题意：给出一个数n，将其拆分为若干个互不相等的数字的和，要求这些数字的乘积最大。</p>
<p>分析：我们可以发现任何一个数字，只要能拆分成两个大于1的数字之和，那么这两个数字的乘积一定大于等于原数。也就是说，对于连乘式中，如果将一个乘数a更换为两个数字b&times;c（a=b+c且b&gt;1,c&gt;1），那么乘积只可能增大或不变，不会减小。所以我们拆分的原则就是将这些数字拆得尽量小，拆成许多2的乘积是最好的。又因为题目约束各个数字不能相同，则我们拆分的结果最理想的情况是从2开始的公差为1的等差数列。但是有时是无法构成这样的等差数列的，因为构成到某一位时会出现构建下一位不够用的情况，例如，n=6时，6=2+3+1。当我们要构成4的时候只剩下1了。如果余数是1,那么我们必然要加到前面的某一个数字上，否则乘积无法增大。如果是大于1的数，也必须加在前面的某些数字上，否则如果单乘会出现重复数字。对于一个余数，应该每次将余数中的一个1分配给数列中最小的数字，这样才能使得乘积每次增大的幅度最大，因为增加量是所有除了最小乘数之外的数字的乘积。但是这样做会造成数字重复，所以唯一可以避免数字重复的方法是将这些1从最大的数字开始依次向较小数分配，让每个乘数增加1。但是这样仍然可能有剩余，但最多剩余1,因为再多就足够构成下一个乘数的了，同样为了避免重复，我们只能将这个1加在最大的乘数上。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('b6b7bb09-75ac-4114-a095-37930e4c3ad6')"><img id="code_img_closed_b6b7bb09-75ac-4114-a095-37930e4c3ad6" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_b6b7bb09-75ac-4114-a095-37930e4c3ad6" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b6b7bb09-75ac-4114-a095-37930e4c3ad6',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_b6b7bb09-75ac-4114-a095-37930e4c3ad6" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">int</span>        n, ans[<span style="color: #800080;">1000</span><span style="color: #000000;">], total;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;">        i;
    </span><span style="color: #0000ff;">bool</span>    first = <span style="color: #0000ff;">true</span><span style="color: #000000;">;

    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span>
    cin &gt;&gt;<span style="color: #000000;"> n;
    i </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
    total </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (total + i &lt;=<span style="color: #000000;"> n)
    {
        total </span>+=<span style="color: #000000;"> i;
        ans[i </span>- <span style="color: #800080;">2</span>] =<span style="color: #000000;"> i;
        i</span>++<span style="color: #000000;">;
    }
    n </span>-=<span style="color: #000000;"> total;
    i </span>= i - <span style="color: #800080;">3</span><span style="color: #000000;">;
    total </span>=<span style="color: #000000;"> i;
    </span><span style="color: #0000ff;">while</span> (i &gt;= <span style="color: #800080;">0</span> &amp;&amp; n &gt; <span style="color: #800080;">0</span><span style="color: #000000;">)
    {
        n</span>--<span style="color: #000000;">;
        ans[i]</span>++<span style="color: #000000;">;
        i</span>--<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">if</span> (n &gt; <span style="color: #800080;">0</span><span style="color: #000000;">)
        ans[total]</span>++<span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (i = <span style="color: #800080;">0</span>; i &lt;= total; i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">if</span> (!<span style="color: #000000;">first)
            cout </span>&lt;&lt; <span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #000000;">;
        first </span>= <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        cout </span>&lt;&lt;<span style="color: #000000;"> ans[i];
    }
    cout </span>&lt;&lt;<span style="color: #000000;">endl;
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
<p>&nbsp;</p>
