---
layout: post
title: poj1045
category: chinese
---
<p>题意：给出公式V2=iR,V2=Vr * cos(wt + q), V1=Vs * cos(wt), i = C * d(v1 - v2)/dt; d是求导数的意思。已知Vs,R,C,w，求Vr。</p>
<p>分析：利用V2分别等于两个式子，将i,V2和V1带入，可得方程：R*C*d(Vs * cos(wt) - Vr * cos(wt + q))/dt &nbsp;= Vr * cos(wt + q)</p>
<p>根据求导公式：d(cos(x))/dx = -sinx可将原方程化为：R*C*w*(Vr*sin(wt + q) - Vs*sin(wt)) = Vr * cos(wt + q)</p>
<p>在这里三角函数的参数有两个：wt+q和wt，我们分别令他们为0,方程分别可变为：R*C *w*Vs*sin(q) = Vr; R*C * w*sin(q) = cos(q)</p>
<p>由2式得：cot(q) = R * C * w。</p>
<p>由公式：sin^2(a) = 1/(cot ^2(a) + 1)</p>
<p>可得：sin(q)=sqrt(1/(cot^2(q) + 1))</p>
<p>即：sin(q) =sqrt(1/(R^2*C^2*w^2 + 1))</p>
<p>代入1式可得：Vr = R * C * w * Vs *&nbsp;sqrt(1/(R^2*C^2*w^2 + 1))</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('5a940531-c73e-43b5-8bc4-81450465d68d')"><img id="code_img_closed_5a940531-c73e-43b5-8bc4-81450465d68d" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_5a940531-c73e-43b5-8bc4-81450465d68d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('5a940531-c73e-43b5-8bc4-81450465d68d',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_5a940531-c73e-43b5-8bc4-81450465d68d" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;<span style="color: #000000;">
#include </span>&lt;cmath&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n;
</span><span style="color: #0000ff;">double</span><span style="color: #000000;"> vs, r, c, w;

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span>
    scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%lf%lf%lf%d</span><span style="color: #800000;">"</span>, &amp;vs, &amp;r, &amp;c, &amp;<span style="color: #000000;">n);
    </span><span style="color: #0000ff;">while</span> (n--<span style="color: #000000;">)
    {
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lf</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">w);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%.3f\n</span><span style="color: #800000;">"</span>, r * c * w * vs * sqrt(<span style="color: #800080;">1</span>/(r*r*c*c*w*w + <span style="color: #800080;">1</span><span style="color: #000000;">)));
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
<p>&nbsp;</p>
