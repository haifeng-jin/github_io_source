---
layout: post
title: poj1183
category: chinese
---
<p>题意：已知<span>arctan(1/a)=arctan(1/b)+arctan(1/c)</span></p>
<p><span>给出公式<span>arctan(p)+arctan(q)=arctan[(p+q)/(1-pq)]</span></span></p>
<p>给出a，求b+c。都是正整数。（保证有解，多解则输出最小解）</p>
<p>分析：1/a=(1-(1/b)*(1/c))/((1/b)+(1/c))=(b*c-1)/(b+c).</p>
<p>令b+c=y,则有c=y-b,代入上式得到：y=(b*b+1)/(b-a).</p>
<p>再令b-a=t,则b=t+a,代入上式有：y=((t+a)*(t+a)+1)/t=t+(a*a+1)/t+2*a.</p>
<p>由数学知识可知，在不要求t为整数时，当t=sqrt(a*a+1)时，y有最小值，同时分别在sqrt(a*a+1)呈单调递减和单调递增，</p>
<p>因此，可以从sqrt(a*a+1)开始，分别在其左右两边寻找使y取最小值的t。</p>
<p>但实际上我们并不需要两边寻找，只找一边即可。</p>
<p>因为假设t*t1==a*a+1。t2与t1一定分别位于sqrt(a*a+1)两端。那么在某一边枚举到t时y=t2+t1+2*a，而另一边枚举到t1时y=t2+t1+2*a</p>
<p>两边情况相同。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('f1767083-143e-4d19-8d5b-9e38ca70dc81')"><img id="code_img_closed_f1767083-143e-4d19-8d5b-9e38ca70dc81" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_f1767083-143e-4d19-8d5b-9e38ca70dc81" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('f1767083-143e-4d19-8d5b-9e38ca70dc81',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_f1767083-143e-4d19-8d5b-9e38ca70dc81" class="cnblogs_code_hide">
<pre><span style="color: #000000;">#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">iostream</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdio</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstdlib</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cstring</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">cmath</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">using</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()<br />{<br />    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">long</span><span style="color: #0000ff;">long</span><span style="color: #000000;"> a;<br />    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld</span><span style="color: #800000;">"</span><span style="color: #000000;">, </span><span style="color: #000000;">&amp;</span><span style="color: #000000;">a);<br />    </span><span style="color: #0000ff;">long</span><span style="color: #0000ff;">long</span><span style="color: #000000;"> ans;<br />    </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (ans </span><span style="color: #000000;">=</span><span style="color: #000000;"> a; (a </span><span style="color: #000000;">*</span><span style="color: #000000;"> a </span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">) </span><span style="color: #000000;">%</span><span style="color: #000000;"> ans; ans</span><span style="color: #000000;">--</span><span style="color: #000000;">);<br />    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%lld\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, ans </span><span style="color: #000000;">+</span><span style="color: #800080;">2</span><span style="color: #000000;">*</span><span style="color: #000000;"> a </span><span style="color: #000000;">+</span><span style="color: #000000;"> (a </span><span style="color: #000000;">*</span><span style="color: #000000;"> a </span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">) </span><span style="color: #000000;">/</span><span style="color: #000000;"> ans);<br />    </span><span style="color: #0000ff;">return</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}</span></pre>
</div>
</div>
