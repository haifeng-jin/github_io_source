---
layout: post
title: poj2668
category: chinese
---
<p>题意：给出d,n，求d/1+d/2+&hellip;&hellip;+d/n，所有除法向上取整。</p>
<p>分析：我们从两边同时计算，算d/i时，同时算出由面所有d/x等于i的项的和，直到两端汇合。</p>
<p>这些x中的一个应该是minx = d/i向上取整，因为minx*i&gt;=d且(minx-1)*i&lt;d，所以d/minx&lt;=i且d/(minx-1)&gt;i。也就是说minx再小一点那么d/minx向上取整的结果就会比i大。</p>
<p>复杂度为sqrt(n)。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('8297449e-f2a3-4eb7-bebc-699d847919a0')"><img id="code_img_closed_8297449e-f2a3-4eb7-bebc-699d847919a0" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_8297449e-f2a3-4eb7-bebc-699d847919a0" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('8297449e-f2a3-4eb7-bebc-699d847919a0',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_8297449e-f2a3-4eb7-bebc-699d847919a0" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<br />#include &lt;cstdlib&gt;<br />#include &lt;cstring&gt;<br />#include &lt;cstdio&gt;<br /><span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span> std;<br /><br /><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> d, n;<br /><span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> ans;<br /><br /><span style="color: #0000ff;">void</span> work()<br />{<br />    <span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> e = n + <span style="color: #800080;">1</span>, s = n + <span style="color: #800080;">1</span>;<br />    <span style="color: #0000ff;">long</span> <span style="color: #0000ff;">long</span> i = <span style="color: #800080;">1</span>;<br />    ans = <span style="color: #800080;">0</span>;<br />    <span style="color: #0000ff;">while</span> (s != <span style="color: #800080;">1</span> &amp;&amp; s &gt; i &amp;&amp; i &lt;= n)<br />    {<br />        s = (d - <span style="color: #800080;">1</span>) / i + <span style="color: #800080;">1</span>;<br />        <span style="color: #0000ff;">if</span> (s &lt; e)<br />        {<br />            ans += (e - s) * i;<br />            e = s;<br />        }<br />        <span style="color: #0000ff;">if</span> (s &gt; i)<br />            ans += s;<br />        i++;<br />    }<br />    printf(<span style="color: #800000;">"</span><span style="color: #800000;">%lld\n</span><span style="color: #800000;">"</span>, ans);<br />}<br /><br /><span style="color: #0000ff;">int</span> main()<br />{<br />    <span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span><span style="color: #008000;"><br /></span>    <span style="color: #0000ff;">while</span> (scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%lld%lld</span><span style="color: #800000;">"</span>, &amp;d, &amp;n), n | d)<br /><span style="color: #008000;">//</span><span style="color: #008000;">    for (d = 1; d &lt; 50; d++)<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        for (n = 1; n &lt; 50; n++)</span><span style="color: #008000;"><br /></span>    {<br />        work();<br /><span style="color: #008000;">//</span><span style="color: #008000;">        long long ans1 = 0;<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        for (int i = 1; i &lt;= n; i++)<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">            ans1 += (d - 1) / i + 1;<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        if (ans1 != ans)<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        {<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">            cout &lt;&lt; "al;skdjflasjdflkj" &lt;&lt; endl;<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">            cout &lt;&lt; n &lt;&lt; " " &lt;&lt; d &lt;&lt; endl;<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        }<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">        printf("%lld\n", ans1);</span><span style="color: #008000;"><br /></span>    }<br />    <span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span>;<br />}</pre>
</div>
</div>
