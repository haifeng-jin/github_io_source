---
layout: post
title: poj3349
category: chinese
---
<p>hash问题，这道题可以用简单的取余法。</p>
<pre class="brush: cpp; auto-links: true; collapse: true; first-line: 1; gutter: true; html-script: false; light: false; ruler: false; smart-tabs: true; tab-size: 4; toolbar: true;">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;cstdlib&gt;
using namespace std;

#define maxn 100000

struct Snow
{
	int arm[6];
	Snow *next;
};

Snow * snow[maxn];

bool same(Snow &amp;a, Snow &amp;b)
{
	for (int i = 0; i &lt; 6; i++)
	{
		bool ok = true;
		for (int j = 0; j &lt; 6; j++)
			if (a.arm[j] != b.arm[(j + i) % 6])
			{
				ok = false;
				break;
			}
		if (ok)
			return true;
	}
	for (int i = 0; i &lt; 6; i++)
	{
		bool ok = true;
		for (int j = 0; j &lt; 6; j++)
			if (a.arm[j] != b.arm[(i + 6 - j) % 6])
			{
				ok = false;
				break;
			}
		if (ok)
			return true;
	}
	return false;
}

bool ins(Snow &amp;a, int index)
{
	if (snow[index] == 0)
	{
		a.next = snow[index];
		snow[index] = &amp;a;
		return true;
	}
	Snow *p = snow[index];
	while (p != 0)
	{
		if (same(*p, a))
			return false;
		p = (*p).next;
	}
	a.next = snow[index];
	snow[index] = &amp;a;
	return true;
}

int main()
{
	//freopen("D:\\t.txt", "r", stdin);
	memset(snow, 0, sizeof(snow));
	int n;
	scanf("%d", &amp;n);
	while (n--)
	{
		Snow *temp = new Snow;
		int sum = 0;
		for (int i = 0; i &lt; 6; i++)
		{
			scanf("%d", &amp;(*temp).arm[i]);
			sum += (*temp).arm[i];
		}
		if (!ins((*temp), sum % maxn))
		{
			printf("Twin snowflakes found.\n");
			return 0;
		}
	}
	printf("No two snowflakes are alike.\n");
	return 0;
}</pre>
