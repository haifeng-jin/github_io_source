---
layout: post
title: poj2246
category: chinese
---
<p>模拟</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('f21e832b-cb79-42dc-967a-d053debcf9d9')"><img id="code_img_closed_f21e832b-cb79-42dc-967a-d053debcf9d9" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_f21e832b-cb79-42dc-967a-d053debcf9d9" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('f21e832b-cb79-42dc-967a-d053debcf9d9',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_f21e832b-cb79-42dc-967a-d053debcf9d9" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">#define</span> maxn 30

<span style="color: #0000ff;">struct</span><span style="color: #000000;"> Matrix
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> x, y;
} matrix[maxn];

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n, ans;
</span><span style="color: #0000ff;">bool</span><span style="color: #000000;"> error;

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> input()
{
    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span>, &amp;<span style="color: #000000;">n);
    getchar();
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; n; i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">char</span> ch =<span style="color: #000000;"> getchar();
        </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> a, b;
        scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span>, &amp;a, &amp;<span style="color: #000000;">b);
        </span><span style="color: #0000ff;">int</span> c = ch - <span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">;
        matrix[c].x </span>=<span style="color: #000000;"> a;
        matrix[c].y </span>=<span style="color: #000000;"> b;
        getchar();
    }
}

Matrix cal(</span><span style="color: #0000ff;">char</span> *st, <span style="color: #0000ff;">char</span> * &amp;<span style="color: #000000;">end)
{
    </span><span style="color: #0000ff;">char</span> *<span style="color: #000000;">p;
    Matrix a, b, ret;
    </span><span style="color: #0000ff;">if</span> (st[<span style="color: #800080;">0</span>] != <span style="color: #800000;">'</span><span style="color: #800000;">(</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    {
        end </span>= st + <span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">return</span> matrix[st[<span style="color: #800080;">0</span>] - <span style="color: #800000;">'</span><span style="color: #800000;">A</span><span style="color: #800000;">'</span><span style="color: #000000;">];
    }
    a </span>= cal(st + <span style="color: #800080;">1</span><span style="color: #000000;">, p);
    b </span>=<span style="color: #000000;"> cal(p, p);
    end </span>= p + <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">if</span> (a.y !=<span style="color: #000000;"> b.x)
        error </span>= <span style="color: #0000ff;">true</span><span style="color: #000000;">;
    ans </span>+= a.x * b.x *<span style="color: #000000;"> b.y;
    ret.x </span>=<span style="color: #000000;"> a.x;
    ret.y </span>=<span style="color: #000000;"> b.y;
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> ret;
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
</span><span style="color: #008000;">//</span><span style="color: #008000;">    freopen("t.txt", "r", stdin);</span>
<span style="color: #000000;">    input();
    </span><span style="color: #0000ff;">char</span> st[maxn * <span style="color: #800080;">100</span>], *<span style="color: #000000;">p;
    </span><span style="color: #0000ff;">while</span> (scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>, st) !=<span style="color: #000000;"> EOF)
    {
        ans </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
        error </span>= <span style="color: #0000ff;">false</span><span style="color: #000000;">;
        cal(st, p);
        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (error)
            puts(</span><span style="color: #800000;">"</span><span style="color: #800000;">error</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">, ans);
    }
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
<p>&nbsp;</p>
