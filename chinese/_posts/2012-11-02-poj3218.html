---
layout: post
title: poj3218
category: chinese
---
<p>模拟，注意Justify模式的最后一行，无论有几个单词都要用Left方式输出。</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('b5e9aa81-47c1-4863-9bfb-3c26656b5aa2')"><img id="code_img_closed_b5e9aa81-47c1-4863-9bfb-3c26656b5aa2" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_b5e9aa81-47c1-4863-9bfb-3c26656b5aa2" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b5e9aa81-47c1-4863-9bfb-3c26656b5aa2',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><span class="cnblogs_code_collapse">View Code </span>
<div id="cnblogs_code_open_b5e9aa81-47c1-4863-9bfb-3c26656b5aa2" class="cnblogs_code_hide">
<pre>#include &lt;iostream&gt;<span style="color: #000000;">
#include </span>&lt;cstdlib&gt;<span style="color: #000000;">
#include </span>&lt;cstdio&gt;<span style="color: #000000;">
#include </span>&lt;cstring&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;

</span><span style="color: #0000ff;">#define</span> maxn 505
<span style="color: #0000ff;">#define</span> maxl 80
<span style="color: #0000ff;">#define</span> max_len 75

<span style="color: #0000ff;">char</span><span style="color: #000000;"> word[maxn][maxl];
</span><span style="color: #0000ff;">char</span> cmd[<span style="color: #800080;">3</span><span style="color: #000000;">];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> n;
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> sum[maxn];
</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> word_len[maxn];

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> input()
{
    scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, cmd);
    </span><span style="color: #0000ff;">int</span> i = <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (~scanf(<span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, word[i]))
        i</span>++<span style="color: #000000;">;
    n </span>= i - <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">1</span>; i &lt;= n; i++<span style="color: #000000;">)
        word_len[i] </span>=<span style="color: #000000;"> strlen(word[i]);
    sum[</span><span style="color: #800080;">0</span>] = <span style="color: #800080;">0</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">1</span>; i &lt;= n; i++<span style="color: #000000;">)
        sum[i] </span>= sum[i - <span style="color: #800080;">1</span>] +<span style="color: #000000;"> word_len[i];
}

</span><span style="color: #0000ff;">int</span> find_end(<span style="color: #0000ff;">int</span><span style="color: #000000;"> s)
{
    </span><span style="color: #0000ff;">int</span> len =<span style="color: #000000;"> word_len[s];
    </span><span style="color: #0000ff;">int</span> i = s + <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (len + word_len[i] + <span style="color: #800080;">1</span> &lt;= max_len &amp;&amp; i &lt;=<span style="color: #000000;"> n)
    {
        len </span>+= word_len[i] + <span style="color: #800080;">1</span><span style="color: #000000;">;
        i</span>++<span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> i;
}

</span><span style="color: #0000ff;">int</span> space_num(<span style="color: #0000ff;">int</span> s, <span style="color: #0000ff;">int</span><span style="color: #000000;"> e)
{
    </span><span style="color: #0000ff;">return</span> max_len - (sum[e - <span style="color: #800080;">1</span>] - sum[s - <span style="color: #800080;">1</span><span style="color: #000000;">]);
}

</span><span style="color: #0000ff;">void</span> left(<span style="color: #0000ff;">int</span> s, <span style="color: #0000ff;">int</span><span style="color: #000000;"> e)
{
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = s; i &lt; e - <span style="color: #800080;">1</span>; i++<span style="color: #000000;">)
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s </span><span style="color: #800000;">"</span><span style="color: #000000;">, word[i]);
    puts(word[e </span>- <span style="color: #800080;">1</span><span style="color: #000000;">]);
}

</span><span style="color: #0000ff;">void</span> right(<span style="color: #0000ff;">int</span> s, <span style="color: #0000ff;">int</span><span style="color: #000000;"> e)
{
    </span><span style="color: #0000ff;">int</span> num =<span style="color: #000000;"> space_num(s, e);
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; num - (e - s - <span style="color: #800080;">1</span>); i++<span style="color: #000000;">)
        putchar(</span><span style="color: #800000;">'</span> <span style="color: #800000;">'</span><span style="color: #000000;">);
    left(s, e);
}

</span><span style="color: #0000ff;">void</span> justify(<span style="color: #0000ff;">int</span> s, <span style="color: #0000ff;">int</span><span style="color: #000000;"> e)
{
    </span><span style="color: #0000ff;">if</span> (e - s == <span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        puts(word[s]);
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">if</span> (e == n + <span style="color: #800080;">1</span><span style="color: #000000;">)
    {
        left(s, e);
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;
    }
    </span><span style="color: #0000ff;">int</span> num =<span style="color: #000000;"> space_num(s, e);
    </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">base</span> = num / (e - s - <span style="color: #800080;">1</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">int</span> extra = num % (e - s - <span style="color: #800080;">1</span><span style="color: #000000;">);
    printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">, word[s]);
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">1</span>; i &lt;= e - s - <span style="color: #800080;">1</span>; i++<span style="color: #000000;">)
    {
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> j = <span style="color: #800080;">0</span>; j &lt; <span style="color: #0000ff;">base</span>; j++<span style="color: #000000;">)
            putchar(</span><span style="color: #800000;">'</span> <span style="color: #800000;">'</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">if</span> (i &lt;=<span style="color: #000000;"> extra)
            putchar(</span><span style="color: #800000;">'</span> <span style="color: #800000;">'</span><span style="color: #000000;">);
        printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span>, word[s +<span style="color: #000000;"> i]);
    }
    putchar(</span><span style="color: #800000;">'</span><span style="color: #800000;">\n</span><span style="color: #800000;">'</span><span style="color: #000000;">);
}

</span><span style="color: #0000ff;">void</span> center(<span style="color: #0000ff;">int</span> s, <span style="color: #0000ff;">int</span><span style="color: #000000;"> e)
{
    </span><span style="color: #0000ff;">int</span> num =<span style="color: #000000;"> space_num(s, e);
    </span><span style="color: #0000ff;">int</span> temp = num - (e - s - <span style="color: #800080;">1</span><span style="color: #000000;">);
    </span><span style="color: #0000ff;">int</span> left_space = temp / <span style="color: #800080;">2</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; left_space; i++<span style="color: #000000;">)
        putchar(</span><span style="color: #800000;">'</span> <span style="color: #800000;">'</span><span style="color: #000000;">);
    left(s, e);
}

</span><span style="color: #0000ff;">void</span><span style="color: #000000;"> work()
{
    </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> s, e;
    e </span>= s = <span style="color: #800080;">1</span><span style="color: #000000;">;
    </span><span style="color: #0000ff;">while</span> (e &lt;=<span style="color: #000000;"> n)
    {
        e </span>=<span style="color: #000000;"> find_end(s);
        </span><span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">J</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            justify(s, e);
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">L</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            left(s, e);
        </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (cmd[<span style="color: #800080;">0</span>] == <span style="color: #800000;">'</span><span style="color: #800000;">R</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            right(s, e);
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            center(s, e);
        s </span>=<span style="color: #000000;"> e;
    }
}

</span><span style="color: #0000ff;">int</span><span style="color: #000000;"> main()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">freopen("t.txt", "r", stdin);</span>
<span style="color: #000000;">    input();
    work();
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
</div>
